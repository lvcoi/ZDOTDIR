# Autoload zsh add-zsh-hook and vcs_info functions (-U autoload w/o substition, -z use zsh style)
autoload -Uz add-zsh-hook vcs_info
# Enable substitution in the prompt.
setopt prompt_subst
# Run vcs_info just before a prompt is displayed (precmd)
add-zsh-hook precmd vcs_info
# Enable checking for (un)staged changes, enabling use of %u and %c
zstyle ':vcs_info:*' check-for-changes true
# Set custom strings for an unstaged vcs repo changes (*) and staged changes (+)
zstyle ':vcs_info:*' unstagedstr ' *'
zstyle ':vcs_info:*' stagedstr ' +'
# Set the format of the Git information for vcs_info
zstyle ':vcs_info:git:*' formats       '(%b%u%c)'
zstyle ':vcs_info:git:*' actionformats '(%b|%a%u%c)'

# Save type history for completion and easier life
HISTFILE=~/.zsh_history
HISTSIZE=10000
SAVEHIST=10000
setopt appendhistory histignorealldups autocd

# For AI/ML Development



function source_dotenv() {
  local dev_env_file="${HOME}/.config/development/environment/dotenv/.env"
  local local_env_file="${ZDOTDIR}/.env"
   if [[ -f "${dev_env_file}" ]]; then
    cp -p "${dev_env_file}" "${local_env_file}.bak.$(date +%Y%m%d-%H%M%S)"
    if source "${local_env_file}"; then
      echo "Sourced ${local_env_file}"
    else
      echo "Failed to source ${local_env_file}"
      exit 1
    fi
  else
    echo "${dev_env_file} not found"
    exit 1
fi 
}
source_dotenv